{"version":3,"file":"static/js/689.7dc9c331.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/pages/Movies/Movies.module.css?82ee","webpack://goit-react-hw-05-movies/./src/components/SearchBar/SearchBar.module.css?35a0","components/SearchBar/SearchBar.jsx","pages/Movies/Movies.jsx","services/Apiservice.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieListContainer\":\"Movies_movieListContainer__TUXpJ\",\"movieList\":\"Movies_movieList__FD6N4\",\"movieList__item\":\"Movies_movieList__item__ZdzQi\",\"movieList__title\":\"Movies_movieList__title__klTG4\"};","// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"SearchBar_searchbar__xBucJ\",\"searchForm\":\"SearchBar_searchForm__V6XO6\",\"searchForm__button\":\"SearchBar_searchForm__button__mFoYN\",\"searchForm__label\":\"SearchBar_searchForm__label__U1IFZ\",\"searchForm__input\":\"SearchBar_searchForm__input__PbfGU\"};","import React, { useState } from 'react';\nimport { PropTypes } from 'prop-types';\nimport css from './SearchBar.module.css';\nimport { FcSearch } from 'react-icons/fc';\nimport { useSearchParams } from 'react-router-dom';\n\nconst SearchBar = ({ onSubmit }) => {\n  const [value, setValue] = useState('');\n  const [, setSeacrhParams] = useSearchParams();\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (value.trim() === '') {\n      return alert('Please enter a request!');\n    }\n    onSubmit(value);\n    setSeacrhParams(value !== '' ? { query: value } : {});\n  };\n\n  const handleValueChange = event => {\n    setValue(event.target.value.toLowerCase());\n  };\n\n  return (\n    <>\n      <div className={css.searchbar}>\n        <form className={css.searchForm} onSubmit={handleSubmit}>\n          <button type=\"submit\" className={css.searchForm__button}>\n            <FcSearch size=\"32px\" />\n          </button>\n\n          <input\n            className={css.searchForm__input}\n            type=\"text\"\n            name=\"query\"\n            placeholder=\"Search movies\"\n            value={value}\n            onChange={handleValueChange}\n          />\n        </form>\n      </div>\n    </>\n  );\n};\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchBar;\n","import React, { useState, useEffect, Suspense } from 'react';\nimport css from './Movies.module.css';\nimport { Outlet, useLocation, Link, useSearchParams } from 'react-router-dom';\nimport SearchBar from 'components/SearchBar/SearchBar';\nimport { fetchQuery } from 'services/Apiservice';\n\nconst Movies = () => {\n  const [, setValue] = useState('');\n  const [movies, setMovies] = useState(null);\n  const location = useLocation();\n  const [seacrhParams, setSeacrhParams] = useSearchParams();\n  const query = seacrhParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    fetchQuery(query).then(res => setMovies(res.results));\n  }, [query]);\n\n  const handleFormSubmit = movie => {\n    setSeacrhParams({ query: movie });\n    setValue(movie);\n  };\n\n  // console.log(movies);\n\n  return (\n    <div className={css.movieListContainer}>\n      {<SearchBar onSubmit={handleFormSubmit} />}\n      {movies && (\n        <ul className={css.movieList}>\n          {movies.map(data => {\n            return (\n              <li key={data.id} className={css.movieList__item}>\n                <Link to={`${data.id}`} state={{ from: location }}>\n                  <img\n                    src={\n                      `https://www.themoviedb.org/t/p/w500${data.poster_path}` ||\n                      `https://www.themoviedb.org/t/p/w500${data.backdrop_path}`\n                    }\n                    alt=\"\"\n                    width=\"100%\"\n                  />\n                  <br />\n                  <p className={css.movieList__title}>{data.original_title} </p>\n                </Link>\n              </li>\n            );\n          })}\n        </ul>\n      )}\n      <Suspense>\n        <Outlet />\n      </Suspense>\n    </div>\n  );\n};\nexport default Movies;\n","const KEY = '482cc9361740c76457d464ceb31e9691';\n\nexport function fetchTrandingMovies() {\n  return fetch(\n    'https://api.themoviedb.org/3/trending/all/day?api_key=482cc9361740c76457d464ceb31e9691'\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n  });\n}\n\nexport function fetchMovieById(id) {\n  const KEY = '482cc9361740c76457d464ceb31e9691';\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}?api_key=${KEY}&language=en-US`\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n  });\n}\n\nexport function fetchQuery(value) {\n  return fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=${KEY}&query=${value}&language=en-US&page=1&include_adult=false`\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n  });\n}\n\nexport function fetchCasts(id) {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${KEY}&language=en-US`\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n  });\n}\n\nexport function fetchReviews(id) {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${KEY}&language=en-US`\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n  });\n}\n"],"names":["onSubmit","useState","value","setValue","useSearchParams","setSeacrhParams","className","css","event","preventDefault","trim","alert","query","type","size","name","placeholder","onChange","target","toLowerCase","movies","setMovies","location","useLocation","seacrhParams","get","useEffect","fetchQuery","then","res","results","movie","map","data","to","id","state","from","src","poster_path","alt","width","original_title","Suspense","KEY","fetchTrandingMovies","fetch","response","ok","json","fetchMovieById","fetchCasts","fetchReviews"],"sourceRoot":""}